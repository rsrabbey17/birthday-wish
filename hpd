<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Wish</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @keyframes flicker {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(0.9) rotate(2deg); opacity: 0.8; }
            25% { transform: scale(1.1) rotate(-2deg); opacity: 0.9; }
            75% { transform: scale(0.95) rotate(1deg); opacity: 1; }
        }
        .animate-flicker { animation: flicker 0.8s infinite alternate; }
        .animate-spin-slow { animation: spin 8s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-20px); } 100% { transform: translateY(0px); } }
        .animate-float { animation: float 6s ease-in-out infinite; }
    </style>
</head>
<body class="bg-gradient-to-br from-pink-100 via-purple-100 to-indigo-100 min-h-screen overflow-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Simple Heart Icon Component
        const HeartIcon = ({ size, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        );

        // Confetti Component
        const Confetti = ({ active }) => {
            const canvasRef = useRef(null);

            useEffect(() => {
                if (!active) return;
                const canvas = canvasRef.current;
                const ctx = canvas.getContext('2d');
                let animationFrameId;
                let particles = [];

                const resize = () => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                };
                window.addEventListener('resize', resize);
                resize();

                const colors = ['#FFC0CB', '#FF69B4', '#FF1493', '#FFD700', '#ADFF2F', '#00BFFF'];

                const createParticle = () => ({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    size: Math.random() * 8 + 4,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    speedY: Math.random() * 3 + 2,
                    speedX: Math.random() * 2 - 1,
                    rotation: Math.random() * 360,
                    rotationSpeed: Math.random() * 2 - 1,
                });

                for (let i = 0; i < 150; i++) particles.push(createParticle());

                const animate = () => {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    particles.forEach((p, index) => {
                        p.y += p.speedY;
                        p.x += p.speedX;
                        p.rotation += p.rotationSpeed;

                        ctx.save();
                        ctx.translate(p.x, p.y);
                        ctx.rotate((p.rotation * Math.PI) / 180);
                        ctx.fillStyle = p.color;
                        ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size);
                        ctx.restore();

                        if (p.y > canvas.height) {
                            particles[index] = createParticle();
                            particles[index].y = -10;
                        }
                    });
                    animationFrameId = requestAnimationFrame(animate);
                };
                animate();
                return () => {
                    window.removeEventListener('resize', resize);
                    cancelAnimationFrame(animationFrameId);
                };
            }, [active]);

            if (!active) return null;
            return <canvas ref={canvasRef} className="fixed inset-0 pointer-events-none z-50" />;
        };

        // Main App
        const App = () => {
            const [stage, setStage] = useState('intro');
            const [candlesLit, setCandlesLit] = useState([true, true, true]);
            const [showConfetti, setShowConfetti] = useState(false);
            
            // --- EDIT DETAILS HERE ---
            const name = ""; 
            const message = "Wishing you a day filled with laughter, love, and everything you've ever wished for. You make the world brighter just by being in it! âœ¨"; 
            const yourName = "Rabbey";
            // -------------------------

            useEffect(() => {
                if (stage === 'cake' && candlesLit.every(lit => !lit)) {
                    setTimeout(() => {
                        setStage('message');
                        setShowConfetti(true);
                    }, 1500);
                }
            }, [candlesLit, stage]);

            const blowCandle = (index) => {
                const newCandles = [...candlesLit];
                newCandles[index] = false;
                setCandlesLit(newCandles);
            };

            return (
                <div className="relative min-h-screen flex items-center justify-center font-sans text-slate-800">
                    <Confetti active={showConfetti} />

                    {/* Background Elements */}
                    <div className="absolute inset-0 overflow-hidden pointer-events-none">
                        <div className="absolute top-10 left-10 text-pink-300 opacity-50 animate-float"><HeartIcon size={48} /></div>
                        <div className="absolute top-1/3 right-20 text-purple-300 opacity-50 animate-float" style={{animationDelay: '1s'}}><HeartIcon size={32} /></div>
                        <div className="absolute bottom-20 left-1/4 text-indigo-300 opacity-50 animate-float" style={{animationDelay: '2s'}}><HeartIcon size={56} /></div>
                    </div>

                    <div className="z-10 w-full max-w-2xl p-4">
                        {stage === 'intro' && (
                            <div className="text-center animate-fade-in">
                                <div className="mb-8 inline-block p-6 bg-white rounded-full shadow-xl shadow-pink-200/50">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#ec4899" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="animate-pulse"><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></svg>
                                </div>
                                <h1 className="text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-600 mb-6 font-serif">
                                    A Special Surprise
                                </h1>
                                <p className="text-lg text-slate-600 mb-8">I made a little something for you...</p>
                                <button onClick={() => setStage('cake')} className="px-8 py-4 bg-white hover:bg-pink-50 text-pink-600 font-bold rounded-full shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 active:scale-95 flex items-center gap-2 mx-auto">
                                    Open It <HeartIcon size={20} className="text-pink-600 fill-pink-600" />
                                </button>
                            </div>
                        )}

                        {stage === 'cake' && (
                            <div className="text-center relative">
                                <h2 className="text-3xl font-bold text-slate-700 mb-2">Make a Wish!</h2>
                                <p className="text-slate-500 mb-12">Tap the candles to blow them out</p>
                                <div className="relative mx-auto w-64 h-48 mt-20">
                                    <div className="absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-80 h-4 bg-white rounded-full shadow-lg opacity-80"></div>
                                    <div className="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-64 h-32 bg-pink-200 rounded-lg shadow-inner flex flex-col justify-end overflow-hidden">
                                        <div className="w-full h-4 bg-pink-300 mb-4 opacity-50"></div>
                                        <div className="w-full h-4 bg-pink-300 mb-4 opacity-50"></div>
                                    </div>
                                    <div className="absolute bottom-28 left-1/2 transform -translate-x-1/2 w-68 h-6 bg-white rounded-full z-10 shadow-sm flex justify-center space-x-2">
                                        {[...Array(7)].map((_, i) => <div key={i} className="w-6 h-6 bg-white rounded-full -mt-2"></div>)}
                                    </div>
                                    <div className="absolute bottom-32 left-1/2 transform -translate-x-1/2 flex space-x-8 z-0">
                                        {candlesLit.map((isLit, index) => (
                                            <div key={index} className="flex flex-col items-center cursor-pointer group" onClick={() => blowCandle(index)}>
                                                <div className={`w-4 h-6 bg-yellow-400 rounded-full blur-[2px] transition-all duration-300 mb-1 ${isLit ? 'opacity-100 animate-flicker shadow-[0_0_20px_#ffeb3b]' : 'opacity-0 scale-50'}`}></div>
                                                <div className="w-0.5 h-2 bg-slate-800"></div>
                                                <div className="w-4 h-16 bg-gradient-to-b from-blue-300 to-blue-400 rounded-sm border-b border-blue-500"></div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {stage === 'message' && (
                            <div className="bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-2xl shadow-pink-200 border-2 border-white transform animate-pop-in">
                                <div className="text-center mb-6">
                                    <h1 className="text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-violet-600 font-serif mb-4">
                                        Happy Birthday, {name}!
                                    </h1>
                                </div>
                                <div className="space-y-4 text-center">
                                    <p className="text-lg text-slate-600 leading-relaxed italic font-serif">"{message}"</p>
                                    <div className="pt-6 border-t border-pink-100 mt-6">
                                        <p className="text-sm text-slate-400 font-medium">With lots of love,</p>
                                        <p className="text-slate-500 font-semibold">{yourName}</p>
                                    </div>
                                </div>
                                <div className="mt-8 text-center">
                                    <button onClick={() => { setStage('cake'); setCandlesLit([true, true, true]); setShowConfetti(false); }} className="text-pink-600 hover:text-pink-700 text-sm font-medium underline underline-offset-4">
                                        Replay the Magic
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
